!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.Cron=r():e.Cron=r()}(this,function(){return function(e){function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){e.exports=t(1)},function(e,r){"use strict";function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),a=function(){function e(r,n){return t(this,e),{data:r,expression:e.make(r,n)}}return i(e,null,[{key:"DEFAULT_DATA",get:function(){return{days:[],startTime:"00:00:00"}}},{key:"DAYS_MAP",get:function(){return{0:"SUN",1:"MON",2:"TUE",3:"WED",4:"THU",5:"FRI",6:"SAT"}}},{key:"REVERSE_DAYS_MAP",get:function(){for(var r=e.DAYS_MAP,t={},n=Object.keys(r),i=0;i<n.length;i++)t[r[i]]=i;return t}},{key:"DEFAULT_OPTIONS",get:function(){return{optimize:!1,numeric:!0}}}]),i(e,null,[{key:"make",value:function(){var r=arguments.length<=0||void 0===arguments[0]?{days:[],startTime:null}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];t=n({},e.DEFAULT_OPTIONS,t),r=n({},e.DEFAULT_DATA,r);var i="* * * * * * *",a=!0,o=i.split(" "),u=r.startTime?r.startTime.split(":").slice(0,3):[],s=r.days.map(function(r){return isNaN(parseInt(r))||"number"!=typeof parseInt(r)?(a=!1,e.REVERSE_DAYS_MAP[r.substring(0,3).toUpperCase()]):parseInt(r)}).sort(function(e,r){return e-r});if(u.length&&(u.length<3&&u.push("00"),u.reverse().forEach(function(e,r){return e?"00"===e?"*":o[r]=e:void 0})),s.length&&(t.numeric?a||(s=s.map(function(r){return e.REVERSE_DAYS_MAP[r]})):a||(s=s.map(function(r){return e.DAYS_MAP[r]})),o[5]=s.join(","),t.optimize&&(o=e.optimize(o,t))),!e.isExpressionValid(o)){var p=new Error("Failed to make Cron expression...",o);throw new Error(p)}return"string"==typeof o?o:o.join(" ")}},{key:"parse",value:function(){var r=arguments.length<=0||void 0===arguments[0]?"* * * * * * *":arguments[0];r=r.split(" ").slice(0,7);var t=r.slice(0,3).map(function(e){return"*"===e?"00":e}),n=r[5],i=[];if("*"!==n){n.indexOf(",")>=0&&(n=n.split(","));for(var a=0;a<n.length;a++){var o=n[a];if(o.indexOf("-")>=0){var u=o.split("-");u=u.map(function(r){return isNaN(parseInt(r))||"number"!=typeof parseInt(r)?e.REVERSE_DAYS_MAP[r.substring(0,3).toUpperCase()]:parseInt(r)}),i.push(u[0]);for(var s=1;s<u[u.length-1];s++)i.push(u[0]+s)}else isNaN(parseInt(o))||"number"!=typeof parseInt(o)?i.push(e.REVERSE_DAYS_MAP[o.substring(0,3).toUpperCase()]):i.push(parseInt(o))}}return{days:i,startTime:t[2]+":"+t[1]+":"+t[0]}}},{key:"optimize",value:function(r,t){t=n({},e.DEFAULT_OPTIONS,t);var i=Array.isArray(r)?r:r.split(" "),a=null,o=!0;if("*"!==i[5]&&i[5].indexOf(",")>0){var u=0,s=i[5].split(",").map(function(r){return isNaN(parseInt(r))||"number"!=typeof parseInt(r)?(o=!1,e.REVERSE_DAYS_MAP[r]):parseInt(r)});if(!s&&!s.length)return r;for(;u<s.length-1;){var p=s[u+1],f=s[u];if(!(f>0&&p-f===1||0===f&&f+p===1)){a=!1;break}a=!0,u++}if(t.numeric?o||(s=s.map(function(r){return e.REVERSE_DAYS_MAP[r]})):o||(s=s.map(function(r){return e.DAYS_MAP[r]})),a)return i[5]=s[0]+"-"+s[s.length-1],i.join(" ")}return r}},{key:"isExpressionValid",value:function(e){return!0}}]),e}();r["default"]=a,e.exports=r["default"]}])});