!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Cron=n():e.Cron=n()}(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){e.exports=t(1)},function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),o=function(){function e(n,r){return t(this,e),{data:n,expression:e.make(n,r)}}return i(e,null,[{key:"DEFAULT_DATA",get:function(){return{days:[],startTime:"00:00:00"}}},{key:"DAYS_MAP",get:function(){return{0:"SUN",1:"MON",2:"TUE",3:"WED",4:"THU",5:"FRI",6:"SAT"}}},{key:"REVERSE_DAYS_MAP",get:function(){for(var n=e.DAYS_MAP,t={},r=Object.keys(n),i=0;i<r.length;i++)t[n[i]]=i;return t}},{key:"DEFAULT_OPTIONS",get:function(){return{optimize:!1,numeric:!0}}}]),i(e,null,[{key:"make",value:function(){var n=arguments.length<=0||void 0===arguments[0]?{days:[],startTime:null}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];t=r({},e.DEFAULT_OPTIONS,t),n=r({},e.DEFAULT_DATA,n);var i="* * * * * * *",o=!0,u=i.split(" "),a=n.startTime?n.startTime.split(":").slice(0,3):[],s=n.days.map(function(n){return isNaN(parseInt(n))||"number"!=typeof parseInt(n)?(o=!1,e.REVERSE_DAYS_MAP[n.substring(0,3).toUpperCase()]):parseInt(n)}).sort(function(e,n){return e-n});if(a.length&&(a.length<3&&a.push("00"),a.reverse().forEach(function(e,n){return e?"00"===e?"*":u[n]=e:void 0})),s.length&&(t.numeric?o||(s=s.map(function(n){return e.REVERSE_DAYS_MAP[n]})):o||(s=s.map(function(n){return e.DAYS_MAP[n]})),u[5]=s.join(","),t.optimize&&(u=e.optimize(u,t))),!e.isExpressionValid(u)){var f=new Error("Failed to make Cron expression...",u);throw new Error(f)}return"string"==typeof u?u:u.join(" ")}},{key:"parse",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"* * * * * * *":arguments[0];e=e.split(" ").slice(0,7);var n=e.slice(0,3).map(function(e){return"*"===e?"00":e}),t=e[5];if("*"!==t){t.indexOf(",")>=0&&(t=t.split(","));for(var r=0;r<t.length;r++)if(t[r].indexOf("-")>=0){for(var i=t[r].split("-").map(function(e){return parseInt(e)}),o=i[i.length-1]-i[0],u=[i[0]],a=1;o>=a;a++)u.push(i[0]+a);t=u}}return{days:t,startTime:n[2]+":"+n[1]+":"+n[0]}}},{key:"optimize",value:function(n,t){t=r({},e.DEFAULT_OPTIONS,t);var i=Array.isArray(n)?n:n.split(" "),o=null,u=!0;if("*"!==i[5]&&i[5].indexOf(",")>0){var a=0,s=i[5].split(",").map(function(n){return isNaN(parseInt(n))||"number"!=typeof parseInt(n)?(u=!1,e.REVERSE_DAYS_MAP[n]):parseInt(n)});if(!s&&!s.length)return n;for(;a<s.length-1;){var f=s[a+1],p=s[a];if(!(p>0&&f-p===1||0===p&&p+f===1)){o=!1;break}o=!0,a++}if(t.numeric?u||(s=s.map(function(n){return e.REVERSE_DAYS_MAP[n]})):u||(s=s.map(function(n){return e.DAYS_MAP[n]})),o)return i[5]=s[0]+"-"+s[s.length-1],i.join(" ")}return n}},{key:"isExpressionValid",value:function(e){return!0}}]),e}();n["default"]=o,e.exports=n["default"]}])});