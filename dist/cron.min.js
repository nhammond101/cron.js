!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Cron=t():e.Cron=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,n){return r(this,e),{data:t,expression:e.make(t,n)}}return i(e,null,[{key:"getDayOfWeekId",value:function(t){return isNaN(parseInt(t))||"number"!=typeof parseInt(t)?e.REVERSE_DAYS_MAP[t.substring(0,3).toUpperCase()]:parseInt(t)}},{key:"make",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{days:[],startTime:null}:arguments[0],r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r=n({},e.DEFAULT_OPTIONS,r),t=n({},e.DEFAULT_DATA,t);var i="* * * * * * *",o=i.split(" "),a=t.startTime?t.startTime.split(":").slice(0,3):[],u=t.days.map(e.getDayOfWeekId).sort(function(e,t){return e-t});if(a.length&&(a.length<3&&a.push("00"),a.reverse().forEach(function(e,t){return e?"00"===e?"*":o[t]=e:void 0})),u.length&&(r.numeric||(u=u.map(function(t){return e.DAYS_MAP[t]})),o[5]=u.join(","),r.optimize&&(o=e.optimize(o,r))),!e.isExpressionValid(o)){var s=new Error("Failed to make Cron expression...",o);throw new Error(s)}return"string"==typeof o?o:o.join(" ")}},{key:"parse",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"* * * * * * *":arguments[0];t=t.split(" ").slice(0,7);var r=t.slice(0,3).map(function(e){return"*"===e?"00":e}),n=t[5],i=[];if("*"!==n){n.indexOf(",")>=0&&(n=n.split(","));for(var o=0;o<n.length;o++){var a=n[o];if(a.indexOf("-")>=0){var u=a.split("-");u=u.map(e.getDayOfWeekId),i.push(u[0]);for(var s=1;s<u[u.length-1];s++)i.push(u[0]+s)}else i.push(e.getDayOfWeekId(a))}}return{days:i,startTime:r[2]+":"+r[1]+":"+r[0]}}},{key:"optimize",value:function(t,r){r=n({},e.DEFAULT_OPTIONS,r);var i=Array.isArray(t)?t:t.split(" "),o=null;if("*"!==i[5]&&i[5].indexOf(",")>0){var a=0,u=i[5].split(",").map(e.getDayOfWeekId);if(!u&&!u.length)return t;for(;a<u.length-1;){var s=u[a+1],f=u[a];if(!(f>0&&s-f===1||0===f&&f+s===1)){o=!1;break}o=!0,a++}if(r.numeric||(u=u.map(function(t){return e.DAYS_MAP[t]})),o)return i[5]=u[0]+"-"+u[u.length-1],i.join(" ")}return t}},{key:"isExpressionValid",value:function(e){return!0}},{key:"DEFAULT_DATA",get:function(){return{days:[],startTime:"00:00:00"}}},{key:"DAYS_MAP",get:function(){return{0:"SUN",1:"MON",2:"TUE",3:"WED",4:"THU",5:"FRI",6:"SAT"}}},{key:"REVERSE_DAYS_MAP",get:function(){for(var t=e.DAYS_MAP,r={},n=Object.keys(t),i=0;i<n.length;i++)r[t[i]]=i;return r}},{key:"DEFAULT_OPTIONS",get:function(){return{optimize:!1,numeric:!0}}}]),e}();t["default"]=o,e.exports=t["default"]}])});